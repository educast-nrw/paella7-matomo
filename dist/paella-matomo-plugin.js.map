{"version":3,"file":"paella-matomo-plugin.js","mappings":"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","sources":["webpack://paella-matomo-plugin/webpack/universalModuleDefinition","webpack://paella-matomo-plugin/./src/plugins/matomoTracking.js","webpack://paella-matomo-plugin/./src/plugins/org.opencast.paella.matomoTrackingDataPlugin.js","webpack://paella-matomo-plugin/./src/plugins/ sync \\.js","webpack://paella-matomo-plugin/external umd {\"commonjs\":\"paella-core\",\"commonjs2\":\"paella-core\",\"amd\":\"paella-core\"}","webpack://paella-matomo-plugin/webpack/bootstrap","webpack://paella-matomo-plugin/webpack/runtime/compat get default export","webpack://paella-matomo-plugin/webpack/runtime/define property getters","webpack://paella-matomo-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://paella-matomo-plugin/webpack/runtime/make namespace object","webpack://paella-matomo-plugin/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"paella-core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"paella-core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"paella-matomo-plugin\"] = factory(require(\"paella-core\"));\n\telse\n\t\troot[\"paella-matomo-plugin\"] = factory(root[undefined]);\n})(self, (__WEBPACK_EXTERNAL_MODULE_paella_core__) => {\nreturn ","import { PluginModule } from 'paella-core';\nimport packageData from '../../package.json';\n\nexport default class MatomoTracking extends PluginModule {\n    get moduleName() {\n        return 'paella-matomo-plugin';\n    }\n\n    get moduleVersion() {\n        return packageData.version;\n    }\n}","/**\n * Licensed to The Apereo Foundation under one or more contributor license\n * agreements. See the NOTICE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n *\n * The Apereo Foundation licenses this file to you under the Educational\n * Community License, Version 2.0 (the \"License\"); you may not use this file\n * except in compliance with the License. You may obtain a copy of the License\n * at:\n *\n *   http://opensource.org/licenses/ecl2.txt\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n *\n */\n import { DataPlugin, Events, bindEvent } from 'paella-core';\n\n export default class MatomoTrackingDataPlugin extends DataPlugin {\n\n  async isEnabled() {\n    const configEnabled = await super.enabled();\n    if (!configEnabled) {\n      return false;\n    }\n    try {\n      const response = await fetch('/usertracking/detailenabled');\n      const data = await response.text();\n      const enabled = /true/i.test(data);\n\n      return enabled;\n    }\n    catch(e) {\n      return false;\n    }\n  }\n \n   async load(){\n     const client_id = this.config.client_id;\n     const heartbeat = this.config.heartbeat;\n     const tracking_client = this.config.tracking_client;\n     var server = this.config.server;\n     const site_id = this.config.site_id;\n \n \n \n     let matomoPromise = null;\n     const matomoScript = (path) => {\n       if (!matomoPromise){\n         this.player.log.debug(\"starting to search for matomo.js script\");\n         matomoPromise = new Promise((resolve) => {\n           const script = document.createElement('script');\n           script.type = 'text/javascript';\n           script.src = path;\n           let loaded = false;\n           script.onload = script.onreadystatechange = () => {\n             if (!loaded) {\n               loaded = true;\n               resolve();\n             }\n           };\n           document.head.appendChild(script);\n         });\n       }\n       return matomoPromise;\n     };\n \n     if (server.substr(-1) != '/') server += '/';\n     await matomoScript(server + tracking_client + '.js');\n     this.player.matomotracker = Matomo.getAsyncTracker( server + tracking_client + '.php', site_id );\n     this.player.log.debug('Matomo Analytics Initialized: ' + Matomo.initialized);\n     this.player.matomotracker.client_id = client_id;\n     if (heartbeat && heartbeat > 0) this.player.matomotracker.enableHeartBeatTimer(heartbeat);\n     if (Matomo && Matomo.MediaAnalytics) {\n       bindEvent(this.player,\n         Events.STREAM_LOADED,\n         () => {\n           Matomo.MediaAnalytics.scanForMedia();\n         });\n       this.registerVisit();\n     }\n   }\n \n   async write(context, { id }, data) {\n     const currentTime = await this.player.videoContainer.currentTime();\n     this.player.log.debug(`Logging event for video id ${ id } at time: ${ currentTime }`);\n \n     switch (data.event) {\n     case Events.PLAY:\n       this.player.matomotracker.trackEvent('Player.Controls', 'Play', this.loadTitle());\n       break;\n     case Events.PAUSE:\n       this.player.matomotracker.trackEvent('Player.Controls', 'Pause', this.loadTitle());\n       break;\n     case Events.ENDED:\n       this.player.matomotracker.trackEvent('Player.Status', 'Ended', this.loadTitle());\n       break;\n     case (Events.FULLSCREEN_CHANGED):\n       if (data.params.status == true){\n         this.player.matomotracker.trackEvent('Player.View', 'Fullscreen', this.loadTitle());\n       } else {\n         this.player.matomotracker.trackEvent('Player.View', 'ExitFullscreen', this.loadTitle());\n       }\n       break;\n     case Events.PLAYER_LOADED:\n       this.player.matomotracker.trackEvent('Player.Status', 'LoadComplete', this.loadTitle());\n       break;\n     case Events.SHOW_POPUP:\n       this.player.matomotracker.trackEvent('Player.PopUp', 'Show', data.params.plugin.name);\n       break;\n     case Events.HIDE_POPUP:\n       this.player.matomotracker.trackEvent('Player.PopUp', 'Hide', data.params.plugin.name);\n       break;\n     case Events.SEEK:\n       this.player.matomotracker.trackEvent('Player.Controls', 'Seek', Math.round(data.params.newTime));\n       break;\n     case Events.VOLUME_CHANGED:\n       this.player.matomotracker.trackEvent('Player.Settings', 'Volume', data.params.volume);\n       break;\n     case Events.RESIZE_END:\n       this.player.matomotracker.trackEvent('Player.View', 'Resize', `${ data.params.size.w }x${ data.params.size.h }`);\n       break;\n     case Events.CAPTIONS_CHANGED:\n       this.player.matomotracker.trackEvent('Player.Captions', 'Enabled', data);\n       break;\n \n     // Bug: Playback rate can't be triggered\n     case Events.PLAYBACK_RATE_CHANGED:\n       this.player.log.info('Playbackrate changed!');\n       this.player.matomotracker.trackEvent('Player.Controls', 'PlaybackRate', data.params.newPlaybackRate);\n       break;\n     }\n   }\n \n   registerVisit() {\n     var opencastData,\n         title,\n         eventId,\n         seriesTitle,\n         seriesId,\n         presenter;\n \n     opencastData = this.player.videoManifest.metadata;\n \n     if (opencastData.UID != undefined && opencastData.title != undefined){\n       title = opencastData.title;\n       eventId = opencastData.UID;\n       presenter = opencastData.presenters;\n       this.player.matomotracker.setCustomVariable (5, 'client',\n         (this.player.matomotracker.client_id || 'Paella Opencast'));\n       /* eslint-disable no-unused-vars */\n       Matomo.MediaAnalytics.setMediaTitleFallback(function (mediaElement) {return title;});\n       /* eslint-disable no-unused-vars */\n     }\n \n     if (opencastData != undefined){\n       seriesId = opencastData.series;\n       seriesTitle = opencastData.seriestitle;\n     }\n \n     if (title) this.player.matomotracker.setCustomVariable(1, 'event', title + ' (' + eventId + ')');\n     if (seriesTitle) this.player.matomotracker.setCustomVariable(2, 'series' + seriesTitle + ' (' + seriesId + ')');\n     if (presenter) this.player.matomotracker.setCustomVariable(3, 'presenter', presenter);\n     if (title && presenter){\n       this.player.matomotracker.setDocumentTitle(title + ' - ' + (presenter || 'Unknown'));\n       this.player.matomotracker.trackPageView(title + ' - ' + (presenter || 'Unknown'));\n     } else{\n       this.player.matomotracker.trackPageView();\n     }\n   }\n \n   loadTitle() {\n     var title = this.player.videoManifest.metadata.title;\n     return title;\n   }\n \n \n }","var map = {\n\t\"./matomoTracking.js\": \"./src/plugins/matomoTracking.js\",\n\t\"./org.opencast.paella.matomoTrackingDataPlugin.js\": \"./src/plugins/org.opencast.paella.matomoTrackingDataPlugin.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/plugins sync recursive \\\\.js\";","module.exports = __WEBPACK_EXTERNAL_MODULE_paella_core__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function getMatomoPluginContext() {\n    return require.context(\"./plugins\", true, /\\.js/);\n}"],"names":["PluginModule","packageData","MatomoTracking","version","DataPlugin","Events","bindEvent","MatomoTrackingDataPlugin","configEnabled","fetch","response","text","data","enabled","test","client_id","config","heartbeat","tracking_client","server","site_id","matomoPromise","matomoScript","path","player","log","debug","Promise","resolve","script","document","createElement","type","src","loaded","onload","onreadystatechange","head","appendChild","substr","matomotracker","Matomo","getAsyncTracker","initialized","enableHeartBeatTimer","MediaAnalytics","STREAM_LOADED","scanForMedia","registerVisit","context","id","videoContainer","currentTime","event","PLAY","PAUSE","ENDED","FULLSCREEN_CHANGED","PLAYER_LOADED","SHOW_POPUP","HIDE_POPUP","SEEK","VOLUME_CHANGED","RESIZE_END","CAPTIONS_CHANGED","PLAYBACK_RATE_CHANGED","trackEvent","loadTitle","params","status","plugin","name","Math","round","newTime","volume","size","w","h","info","newPlaybackRate","opencastData","title","eventId","seriesTitle","seriesId","presenter","videoManifest","metadata","UID","undefined","presenters","setCustomVariable","setMediaTitleFallback","mediaElement","series","seriestitle","setDocumentTitle","trackPageView","getMatomoPluginContext","require"],"sourceRoot":""}